DFS, extra params: [in] current depth, [out] max depth